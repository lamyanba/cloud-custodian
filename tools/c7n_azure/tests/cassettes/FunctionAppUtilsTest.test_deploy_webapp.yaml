interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.5.0 azure-mgmt-web/0.35.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Web/serverfarms/cloud-custodian-test?api-version=2016-09-01
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR8Xs
        o0cf3W3Wk2ZaF6u2qJbN3Sx7ePDwwf5k+/5sL9venz082M4eHGTb9w72zu892L0/23mQ363zplrX
        0/zzulqvmrtt3rS///l6OQWIbLXarvNf1Nxd1dVlMcvr5u4XxbSumuq8HX83n9xt8voyr8+zetHc
        nZbVerY9XTdtNSuy5TYgfTT6aJktckJt4Nv2eoVvB6FSk7fFEmMri+X6Hf1ZVtMMuNFH3yUY6Vev
        0z36mDBc5XVb5M1Hj37xRwLhGUE4o3f37u/v3ITIVVW/zevXxQ/Q5ml+nq3L8GMAIijywZsir18w
        vOW6LAn2ejHJ6y/Pv8vfEgq7o4+m67rOl618BAgB4N63Cl8/fxEB2LRZu6ZfP3qVZ7NrgnGVT16v
        sikAYxS9adsGgb56vUftGm5HMDwGodduwyH0VjZbFMvXRZv7Y55XTVssL06Xl0VdLReE9PA3L+vq
        vCjtq4vsXbFYL3qDvEfzWGZL6eWjnyzqdp2VT/NZQVOez17SVwaZV+tlWyzyLk7TarFat/kX1Yw+
        Imrrm/RWQy3lY2l5kVev8guhAshk+Qiz0eavpxkx3MVHj86zssndBOM7QpRmoz9IzKAAL5rXq4rI
        oS839Mfpu1VRM+O+IbxNw/M6z788P8/r+NdtdkGdye8dMQjElj4ntPoMIO0gC/RqW68Jl6L5vfMl
        Rq24LWYsIh9dZVfNNgnRbHtxNd/e2Xnw+0NqCECb1Re58ulJRWRnNvU/9biXAFwWDWFAlHlN7Eoj
        +ej1ejrN8xmhIBxLFERrjOqXEG3eriGwKpxPdqkRCXGN37OmmNKfDYHHn/jqPFsU5TX+oj+mGTF1
        0dKfu7/kl/w/P32yMwIFAAA=
    headers:
      Cache-Control: [no-cache]
      Content-Encoding: [gzip]
      Content-Type: [application/json]
      Date: ['Sat, 11 Aug 2018 20:35:47 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/10.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-correlation-request-id: [6fd15545-4348-451b-bddf-21b11055e353]
      x-ms-ratelimit-remaining-subscription-reads: ['11999']
      x-ms-request-id: [eb4e8ef1-74fc-450e-b8f8-3b3989333582]
      x-ms-routing-request-id: ['WESTUS2:20180811T203548Z:6fd15545-4348-451b-bddf-21b11055e353']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.5.0 azure-mgmt-applicationinsights/0.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/microsoft.insights/components/cloud-custodian-test?api-version=2015-05-01
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR8Xs
        o0cf3W3Wk2ZaF6u2qJbN3Sx7ePDwwf5k+/5sL9venz082M4eHGTb9w72zu892L0/23mQ363zplrX
        0/zzulqvmrtt3rS///l6OQWIbLXarvNf1Nxd1dVlMcvr5u6imNZVU52342LZFBfztrk7rRarapkv
        8WtZrWfb03XTVrMiW24D2kejj5bZIif0Br5tr1f4diNkalZW0wxIUdMrenHd7NGHbXbRfPToF380
        L2azfLldFsu3j+7+7FPhC4vrd/PJ3aag9vGxP/rolUL+6JeMPnpbLDFNV/mEUM8Jd/rj9/1oZ7az
        82D/3oPtHXq8f+5PPj3f35mc0+87v+9H9Ab1v8rrtsh5yD+Z1/T6JahwvFqVhVDnDB1EUeFm/PVs
        uv/g4CDb3Z7lD/a398/3Z9sPdyb59sPJzk4+mzyY3Z/sSnMD9fd/I3MkmD8rqyv9ZLkuyxGN8Ret
        qYvf/7WM9NFHZ5PiBxmRhkCcvmtzms9qeVLnWZvT62fLpq3XC5pWhv175df0xvn+pw8e5kSEg/sP
        H9Is7e5vT7KH0+37Dz7NP907yO/v3HtI777YyEncBYF8io4efbS3s3uwvXOwvbv7Zm/n0c7eo50H
        4/s7Dw/2Pt3/ZIc+2KFXXmbTt9lFDrrIWN7ky2zZ4u+PbsM5BOLb1fRtfk1DxUsCxH70pnqbE8fK
        pzR/lwVIUSwvXtPggePr9XSa57N8RoBeZwui+PLiZU5UJOpcUAN58wQjXXyRt3Uxbb5ctfnsbOkm
        4Jf8kv8HN6FLeQAEAAA=
    headers:
      Cache-Control: [no-cache]
      Content-Encoding: [gzip]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Sat, 11 Aug 2018 20:35:47 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-correlation-request-id: [2e3493de-b025-4fe3-82da-39af87837ae1]
      x-ms-ratelimit-remaining-subscription-reads: ['11999']
      x-ms-request-id: [2141cc1e-9da6-11e8-89ae-8c8590ced288]
      x-ms-routing-request-id: ['WESTUS2:20180811T203548Z:2e3493de-b025-4fe3-82da-39af87837ae1']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.5.0 azure-mgmt-storage/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Storage/storageAccounts/cloudcustodiantest/listKeys?api-version=2018-02-01
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR2/z
        6+ajR9/jX15ki/yjR/ht96PRR5dZucafxfT+d69+uqh/kP9e7eyTy+sHV9dte/nVTx0091/9xOXu
        d3/Ry093n/7g5On57/32er6XPbu7WH138np28LRud74sPvlF+19MHtzdO7t/svv7PH/9e38x2z24
        fvH04rPPqItVXi+KpimqJeHw0bOvnj//6JeMOqjsUTuDyiff3bn+9DuLZzvTL549++7vtTr9zvHe
        7/X7fH738+9+/lN7by+/evEsn7759G159vny98l/7/LhydOTV4tysfpq996b7OSnL15/evB7PZ2c
        vr58+MmrJy+/89On93+v/ep4EJXv/5L/B6PPSDMgAQAA
    headers:
      Cache-Control: [no-cache]
      Content-Encoding: [gzip]
      Content-Type: [application/json]
      Date: ['Sat, 11 Aug 2018 20:35:48 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      x-ms-correlation-request-id: [3db7cc2f-9ba2-4037-ad00-9f58afa30d59]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-ms-request-id: [e40a3a39-dbe5-4d2a-99e9-096a6e061d48]
      x-ms-routing-request-id: ['WESTUS2:20180811T203548Z:3db7cc2f-9ba2-4037-ad00-9f58afa30d59']
    status: {code: 200, message: OK}
- request:
    body: mock_body
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['1121']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.5.0 azure-mgmt-web/0.35.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Web/sites/test-deploy-webapp?api-version=2016-08-01
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR8Xs
        o0cf3W3Wk2ZaF6u2qJbN3Sx7ePDwwf5k+/5sL9venz082M4eHGTb9w72zu892L0/23mQ363zplrX
        0/zzulqvmrtt3rS///l6OQWIbLXarvNf1Nxd1dVlMcvr5u4XxbSumuq8HX83n9xtCmrP72zP8lVZ
        XW9f5RN666PRR8tskRNK0e/a6xW+i8CiL98WS4zFw2FUFsv1u9G0WrZZscxralRW0wzfUsPvUg/p
        V6/TPfqY8FzldVsQoEe/eCMKTZu1+PLVerkslhf0ybxq2hf0Br36vcg74+wH6zqn3xnP8TJvP/r+
        6CP6+/UqmwISfdqn3Daw++r1HrVruB31nJfnz4vlW3pl3rar5tHdu1fZVbNNuM+2F1fz7Z2dB+Ns
        VXQ6vCKyVFfc8aP9+/t3v8ZUAxaQkBm7EVeZEW4bkoIGUeerir6u6uvX1Ahko+FEW1ZXmLFHy3VZ
        jj5aN9lF/lpJ/6KqF1lJTfJlNilzmvS2Xuejj7LZoliehp9pk2+/9xwRs/WbNdNFpClNJ/54GfDQ
        Im+zWdZmZgQ0S/bb71kWo/lcv3v27idJQoig1OllVq7xxdMvT36v01c/szCcfpe73Takp1m/bufV
        8t7400eXe+Od8e7uw3v3trNyNc8++iUjC/+7MvmRHoDVLyHMaViv87YlVibE+EP67DIrymxSlEV7
        3SN605QnGMh5QZKE0eCl0UfTpqbfv0cQp9SV+RR0+aKaEQD528jK66ZkwNTQEYP+7BKcR02/A44Q
        m2Dqu/TG06Lh6aVPi9WTrMlnBPhV3qzL1vR4WdTtOivPXpoP2vl6MVnVxdI2aauvVjRVBDD8+8yC
        NN+4TgwGL6r2pFqeFxeEJ9DAAN+IlqImy1lWz/z5oFF0hxjnqf/vDPOVleiPwE/TarFah5Pe5PVl
        Xj/L6kX/kzOS1J8D88P9n1P/zd1pWa1n29N101azIltuAxKNkOCjEaEniqRofu98SQL06DwrG/q7
        zJqWBklikM/eFIv8q3ZKI9nb2T3Y3jnY3t19s7fz6N79R/d3xjs79/AQTOqiJj32Kp9W1P310/w8
        oyk0NHYWBQYrX7bHm8SwXi9b6nZjG5qWXKbNEF5Yb0HAmfAYa8iO9FZbZ+ck3F9kS8K19jSngGje
        rulNYpBiSo2Je6HIj8umet1WqxUIphRqs/oib19fZavXZWW5EJxDozxdEsdWS2Ay/A1p1POipCFJ
        g2lZ0IfHhNySRttR9PIlNJP9QvEAXB6BFSPzzaxakF9AqpFmkZQZcc7ZjIDQX8QyptdbuRXVup1U
        6+XsbHU8mxHrNKDXR/f3xrsP7o/37u+Pd3dG+Ovg3viAPtjds399Ot69/6n5a3dnZ7zvvrtPPw4I
        OglYUxDmX/7s9cJ/3d8d7z0cH9wzf9y7N97bBwJ2qK+LH9B07N6/9ylRjzjv+ot8QZIPAfiJdQVr
        t0M8sW5W+XIGuSitTgEvmgl4lWcNRInaGrKevsuna/zyFc1tc5JN59SPvLnI3r0gXZbXX55/t6rf
        elMzr8iStNliRVTouUJAu6wgUWfL88q90mUyCIJ812bGBpJ4+eqFwENSevqFupiJDBsp0ZahTMXV
        O8kEywYJ7dp2y47dl8vyWnn0l/yS/wfkaHhHogsAAA==
    headers:
      Cache-Control: [no-cache]
      Content-Encoding: [gzip]
      Content-Type: [application/json]
      Date: ['Sat, 11 Aug 2018 20:35:50 GMT']
      ETag: ['"1D431B2E4049935"']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/10.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-correlation-request-id: [3679afd8-dc50-45d6-bee0-7cff14e8742c]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['499']
      x-ms-request-id: [b293bae8-fa5b-4075-90c3-b744a74639f5]
      x-ms-routing-request-id: ['WESTUS2:20180811T203551Z:3679afd8-dc50-45d6-bee0-7cff14e8742c']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.5.0 azure-mgmt-web/0.35.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_functionapp-reqs/providers/Microsoft.Web/sites/test-deploy-webapp?api-version=2016-08-01
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR8Xs
        o0cf3W3Wk2ZaF6u2qJbN3Sx7ePDwwf5k+/5sL9venz082M4eHGTb9w72zu892L0/23mQ363zplrX
        0/zzulqvmrtt3rS///l6OQWIbLXarvNf1Nxd1dVlMcvr5u4XxbSumuq8HX83n9xtCmrP72zP8lVZ
        XW9f5RN666PRR8tskRNK0e/a6xW+i8CiL98WS4zFw2FUFsv1u9G0WrZZscxralRW0wzfUsPvUg/p
        V6/TPfqY8FzldVsQoEe/eCMKTZu1+PLVerkslhf0ybxq2hf0Br36vcg74+wH6zqn3xnP8TJvP/r+
        6CP6+/UqmwISfdqn3Daw++r1HrVruB31nJfnz4vlW3pl3rar5tHdu1fZVbNNuM+2F1fz7Z2dB+Ns
        VXQ6vCKyVFfc8aP9+/t3v8ZUAxaQkBm7EVeZEW4bkoIGUeerir6u6uvX1Ahko+FEW1ZXmLFHy3VZ
        jj5aN9lF/lpJ/6KqF1lJTfJlNilzmvS2Xuejj7LZoliehp9pk2+/9xwRs/WbNdNFpClNJ/54GfDQ
        Im+zWdZmZgQ0S/bb71kWo/lcv3v27idJQoig1OllVq7xxdMvT36v01c/szCcfpe73Takp1m/bufV
        8t7400eXe+Od8e7uw3v3trNyNc8++iUjC/+7MvmRHoDVLyHMaViv87YlVibE+EP67DIrymxSlEV7
        3SN605QnGMh5QZKE0eCl0UfTpqbfv0cQp9SV+RR0+aKaEQD528jK66ZkwNTQEYP+7BKcR02/A44Q
        m2Dqu/TG06Lh6aVPi9WTrMlnBPhV3qzL1vR4WdTtOivPXpoP2vl6MVnVxdI2aauvVjRVBDD8+8yC
        NN+4TgwGL6r2pFqeFxeEJ9DAAN+IlqImy1lWz/z5oFF0hxjnqf/vDPOVleiPwE/TarFah5Pe5PVl
        Xj/L6kX/kzOS1J8D88P9n1P/zd1pWa1n29N101azIltuAxKNkOCjEaEniqRofu98SQL06DwrG/q7
        zJqWBklikM/eFIv8q3ZKI9nb2T3Y3jnY3t19s7fz6N79R/d3xjs79/AQTOqiJj32Kp9W1P310/w8
        oyk0NHYWBQYrX7bHm8SwXi9b6nZjG5qWXKbNEF5Yb0HAmfAYa8iO9FZbZ+ck3F9kS8K19jSngGje
        rulNYpBiSo2Je6HIj8umet1WqxUIphRqs/oib19fZavXZWW5EJxDozxdEsdWS2Ay/A1p1POipCFJ
        g2lZ0IfHhNySRttR9PIlNJP9QvEAXB6BFSPzzaxakF9AqpFmkZQZcc7ZjIDQX8QyptdbuRXVup1U
        6+XsbHU8mxHrNKDXR/f3xrsP7o/37u+Pd3dG+Ovg3viAPtjds399Ot69/6n5a3dnZ7zvvrtPPw4I
        OglYUxDmX/7s9cJ/3d8d7z0cH9wzf9y7N97bBwJ2qK+LH9B07N6/9ylRjzjv+ot8QZIPAfiJdQVr
        t0M8sW5W+XIGuSitTgEvmgl4lWcNRInaGrKevsuna/zyFc1tc5JN59SPvLnI3r0gXZbXX55/t6rf
        elMzr8iStNliRVTouUJAu6wgUWfL88q90mUyCIJ812bGBpJ4+eqFwENSevqFupiJDBsp0ZahTMXV
        O8kEywYJ7dp2y47dl8vyWnn0l/yS/wfkaHhHogsAAA==
    headers:
      Cache-Control: [no-cache]
      Content-Encoding: [gzip]
      Content-Type: [application/json]
      Date: ['Sat, 11 Aug 2018 20:35:51 GMT']
      ETag: ['"1D431B2E4049935"']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/10.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-correlation-request-id: [d506c928-edd5-439e-938e-faa298d9c04b]
      x-ms-ratelimit-remaining-subscription-reads: ['11999']
      x-ms-request-id: [2ee38da8-9bf6-4541-a460-88b49544580a]
      x-ms-routing-request-id: ['WESTUS2:20180811T203551Z:d506c928-edd5-439e-938e-faa298d9c04b']
    status: {code: 200, message: OK}
version: 1
